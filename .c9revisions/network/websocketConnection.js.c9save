{"ts":1361839392446,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1361839488063,"patch":[[{"diffs":[[1,"/**\r\n * @author      SÃ©bastien Bolduc    <sebastien.bolduc@gmail.com>\r\n * @version     0.0                 (current version number of program)\r\n * @since       2013-02-25          (the version of the package this class was first added to)\r\n */\r\n\r\n// create global namespace\r\nwindow.WAF = window.WAF || {};\r\nwindow.WAF.network = window.WAF.network || {};\r\n\r\n// using IIFE (Immediately-Invoked Function Expression) to give each file its own local scope\r\n(function(namespace, undefined) {\r\n    // public methods and properties\r\n    /**\r\n     * Constructor.\r\n     * \r\n     * @param tune Tune to be loaded.\r\n     * @return \r\n     */\r\n    namespace.websocketConnection = function() {\r\n    };\r\n    \r\n    // private methods and properties\r\n    var network = window.WAF.network;\r\n    \r\n}(window.WAF.network = window.WAF.network || {}));"]],"start1":0,"start2":0,"length1":0,"length2":827}]],"length":827,"saved":false}
{"ts":1361839502989,"patch":[[{"diffs":[[0,"aram"],[-1," tune Tune to be loaded."],[0,"\r\n  "]],"start1":573,"start2":573,"length1":32,"length2":8}]],"length":803,"saved":false}
{"ts":1361841086193,"patch":[[{"diffs":[[0,"ace."],[-1,"websocketConnection = function() {"],[1,"WebSocketConnection = function() {\r\n        this.connection = null;\r\n        this.onOpenFunction = null;\r\n        this.onCloseFunction = null;\r\n        this.onMessageFunction = null;\r\n        this.onErrorFunction = null;\r\n    };\r\n    \r\n    /**\r\n     * Open a WebSockect connection.\r\n     * \r\n     * @param url Url of the server to connect to.\r\n     */\r\n    namespace.WebSocketConnection.prototype.open = function(url) {\r\n        this.connection =  new WebSocket(\"url\");\r\n        \r\n        this.setOnOpen();\r\n    };\r\n    \r\n    /**\r\n     * Set a function to execute when a connection is open.\r\n     * \r\n     * @param functionToCall Function link to the 'onopen' event.\r\n     * @return\r\n     */\r\n    namespace.WebSocketConnection.prototype.setOnOpen = function(functionToCall) {\r\n        // set a default case\r\n        if (functionToCall !== null) {\r\n            this.onOpenFunction = functionToCall;  \r\n        } else if (this.onOpenFunction === null) {\r\n            this.onOpenFunction = function(e) { alert('Open socket: ' + e); };\r\n        }\r\n        \r\n        this.connection.onopen = this.onOpenFunction;"],[0,"\r\n  "]],"start1":615,"start2":615,"length1":42,"length2":1115}]],"length":1876,"saved":false}
{"ts":1361841246421,"patch":[[{"diffs":[[0,"  };\r\n    \r\n"],[1,"    /**\r\n     * Set a function to execute when a connection is close.\r\n     * \r\n     * @param functionToCall Function link to the 'onclose' event.\r\n     * @return \r\n     */\r\n    namespace.WebSocketConnection.prototype.setOnClose = function(functionToCall) {\r\n        // set a default case\r\n        if (functionToCall !== null) {\r\n            this.onCloseFunction = functionToCall;  \r\n        } else if (this.onCloseFunction === null) {\r\n            this.onCloseFunction = function(e) { alert('Close socket: ' + e); };\r\n        }\r\n        \r\n        this.connection.onclose = this.onCloseFunction;\r\n    }\r\n    \r\n"],[0,"    // priva"]],"start1":1730,"start2":1730,"length1":24,"length2":634}]],"length":2486,"saved":false}
{"ts":1361841511458,"patch":[[{"diffs":[[0,"ct to.\r\n"],[1,"     * @return\r\n"],[0,"     */\r"]],"start1":955,"start2":955,"length1":16,"length2":32},{"diffs":[[0,"eturn\r\n     */\r\n"],[-1,""],[0,"    namespace.We"]],"start1":972,"start2":972,"length1":32,"length2":32},{"diffs":[[0,"pen();\r\n"],[1,"        this.setOnClose();\r\n    };\r\n    \r\n    /**\r\n     * Close a WebSocket connection.\r\n     * \r\n     * @param\r\n     * @return\r\n     */\r\n    namespace.WebSocketConnection.prototype.close = function() {\r\n        this.connection.close();\r\n"],[0,"    }"],[-1,";"],[0,"\r\n    \r\n"]],"start1":1135,"start2":1135,"length1":22,"length2":259}]],"length":2739,"saved":false}
{"ts":1361841800791,"patch":[[{"diffs":[[0,"Function;\r\n    }"],[1,";\r\n    \r\n    /**\r\n     * Set a function to execute when we receive a message.\r\n     * \r\n     * @param functionToCall Function link to the 'onmessage' event.\r\n     * @return \r\n     */\r\n    namespace.WebSocketConnection.prototype.setOnMessage = function(functionToCall) {\r\n        // set a default case\r\n        if (functionToCall !== null) {\r\n            this.onMessageFunction = functionToCall;  \r\n        } else if (this.onMessageFunction === null) {\r\n            this.onMessageFunction = function(e) { alert('Message: ' + e); };\r\n        }\r\n        \r\n        this.connection.onmessage = this.onMessageFunction;\r\n    };"],[0,"\r\n    \r\n    // p"]],"start1":2581,"start2":2581,"length1":32,"length2":652}]],"length":3359,"saved":false}
{"ts":1361842016911,"patch":[[{"diffs":[[0,"OnClose();\r\n"],[1,"        this.setOnMessage();\r\n"],[0,"    };\r\n    "]],"start1":1159,"start2":1159,"length1":24,"length2":54},{"diffs":[[0,"  };\r\n    \r\n"],[1,"    /**\r\n     * Set a function to execute when an error happen.\r\n     * \r\n     * @param functionToCall Function link to the 'onerror' event.\r\n     * @return \r\n     */\r\n    namespace.WebSocketConnection.prototype.setOnError = function(functionToCall) {\r\n        // set a default case\r\n        if (functionToCall !== null) {\r\n            this.onErrorFunction = functionToCall;  \r\n        } else if (this.onErrorFunction === null) {\r\n            this.onErrorFunction = function(e) { alert('Error: ' + e); };\r\n        }\r\n        \r\n        this.connection.onerror = this.onErrorFunction;\r\n    };\r\n    \r\n"],[0,"    // priva"]],"start1":3243,"start2":3243,"length1":24,"length2":622}]],"length":3987,"saved":false}
{"ts":1361842037738,"patch":[[{"diffs":[[0,"Message();\r\n"],[1,"        this.setOnError();\r\n"],[0,"    };\r\n    "]],"start1":1189,"start2":1189,"length1":24,"length2":52}]],"length":4015,"saved":false}
{"ts":1361842228711,"patch":[[{"diffs":[[0,"se();\r\n    }"],[1,";\r\n    \r\n    /**\r\n     * Send data via a WebSocket connection.\r\n     * \r\n     * @param data Data to be send.\r\n     * @return\r\n     */\r\n    namespace.WebSocketConnection.prototype.send = function(data) {\r\n        if (data !== null) {\r\n            this.connection.send(data);\r\n        }\r\n    };"],[0,"\r\n    \r\n    "]],"start1":1432,"start2":1432,"length1":24,"length2":316}]],"length":4307,"saved":false}
{"contributors":[],"silentsave":false,"ts":1361842949966,"patch":[[{"diffs":[[0,"ket("],[-1,"\""],[0,"url"],[-1,"\""],[0,");\r\n"]],"start1":1093,"start2":1093,"length1":13,"length2":11}]],"length":4305,"saved":false}
{"ts":1361843526539,"patch":[[{"diffs":[[0,"tOnOpen("],[1,"null"],[0,");\r\n    "]],"start1":1129,"start2":1129,"length1":16,"length2":20},{"diffs":[[0,".setOnClose("],[1,"null"],[0,");\r\n        "]],"start1":1157,"start2":1157,"length1":24,"length2":28},{"diffs":[[0,"Message("],[1,"null"],[0,");\r\n    "]],"start1":1195,"start2":1195,"length1":16,"length2":20},{"diffs":[[0,"OnError("],[1,"null"],[0,");\r\n    "]],"start1":1227,"start2":1227,"length1":16,"length2":20}]],"length":4321,"saved":false}
{"ts":1361843610107,"patch":[[{"diffs":[[0,"en socket: ' + e"],[1,".data"],[0,"); };\r\n"],[-1,""],[0,"        }\r\n     "]],"start1":2246,"start2":2246,"length1":39,"length2":44},{"diffs":[[0,"ocket: ' + e"],[1,".data"],[0,"); };\r\n     "]],"start1":2864,"start2":2864,"length1":24,"length2":29},{"diffs":[[0,"ssage: ' + e"],[1,".data"],[0,"); };\r\n     "]],"start1":3484,"start2":3484,"length1":24,"length2":29},{"diffs":[[0,"on === null) {\r\n"],[-1,""],[0,"            this"]],"start1":4019,"start2":4019,"length1":32,"length2":32},{"diffs":[[0,"r: ' + e"],[1,".data"],[0,"); };\r\n "]],"start1":4095,"start2":4095,"length1":16,"length2":21}]],"length":4341,"saved":false}
{"ts":1361843748548,"patch":[[{"diffs":[[0,"se\r\n        if ("],[1,"!"],[0,"functionToCall !"]],"start1":2040,"start2":2040,"length1":32,"length2":33},{"diffs":[[0,"nctionToCall"],[-1," !== null"],[0,") {\r\n       "]],"start1":2059,"start2":2059,"length1":33,"length2":24},{"diffs":[[0,"se\r\n        if ("],[1,"!"],[0,"functionToCall !"]],"start1":2642,"start2":2642,"length1":32,"length2":33},{"diffs":[[0,"nctionToCall"],[-1," !== null"],[0,") {\r\n       "]],"start1":2661,"start2":2661,"length1":33,"length2":24},{"diffs":[[0,"se\r\n        if ("],[1,"!"],[0,"functionToCall !"]],"start1":3253,"start2":3253,"length1":32,"length2":33},{"diffs":[[0,"nctionToCall"],[-1," !== null"],[0,") {\r\n       "]],"start1":3272,"start2":3272,"length1":33,"length2":24},{"diffs":[[0,"    if ("],[1,"!"],[0,"function"]],"start1":3868,"start2":3868,"length1":16,"length2":17},{"diffs":[[0,"onToCall"],[-1," !== null"],[0,") {\r\n   "]],"start1":3883,"start2":3883,"length1":25,"length2":16}]],"length":4309,"saved":false}
{"ts":1361843893145,"patch":[[{"diffs":[[0,"tOnOpen("],[-1,"null"],[0,");\r\n    "]],"start1":1129,"start2":1129,"length1":20,"length2":16},{"diffs":[[0,"OnClose("],[-1,"null"],[0,");\r\n    "]],"start1":1157,"start2":1157,"length1":20,"length2":16},{"diffs":[[0,"Message("],[-1,"null"],[0,");\r\n    "]],"start1":1187,"start2":1187,"length1":20,"length2":16},{"diffs":[[0,"OnError("],[-1,"null"],[0,");\r\n    "]],"start1":1215,"start2":1215,"length1":20,"length2":16}]],"length":4293,"saved":false}
{"ts":1361844245490,"patch":[[{"diffs":[[0,"se\r\n        if ("],[-1,"!"],[1,"typeof "],[0,"functionToCall) "]],"start1":2024,"start2":2024,"length1":33,"length2":39},{"diffs":[[0,"f functionToCall"],[1," == \"undefined\""],[0,") {\r\n           "]],"start1":2045,"start2":2045,"length1":32,"length2":47},{"diffs":[[0,"se\r\n        if ("],[-1,"!"],[1,"typeof "],[0,"functionToCall) "]],"start1":2647,"start2":2647,"length1":33,"length2":39},{"diffs":[[0,"f functionToCall"],[1," == \"undefined\""],[0,") {\r\n           "]],"start1":2668,"start2":2668,"length1":32,"length2":47}]],"length":4335,"saved":false}
{"ts":1361844302846,"patch":[[{"diffs":[[0,"a default case\r\n"],[1,"        alert(typeof functionToCall);\r\n"],[0,"        if (type"]],"start1":2012,"start2":2012,"length1":32,"length2":71}]],"length":4374,"saved":false}
{"ts":1361844361536,"patch":[[{"diffs":[[0,"se\r\n"],[-1,"        alert(typeof functionToCall);\r\n"],[0,"    "]],"start1":2024,"start2":2024,"length1":47,"length2":8},{"diffs":[[0,"unctionToCall =="],[1,"="],[0," \"undefined\") {\r"]],"start1":2048,"start2":2048,"length1":32,"length2":33},{"diffs":[[0,"oCall =="],[1,"="],[0," \"undefi"]],"start1":2680,"start2":2680,"length1":16,"length2":17}]],"length":4337,"saved":false}
{"ts":1361844411996,"patch":[[{"diffs":[[0," functionToCall "],[-1,"="],[1,"!"],[0,"== \"undefined\") "]],"start1":2046,"start2":2046,"length1":33,"length2":33},{"diffs":[[0,"nToCall "],[-1,"="],[1,"!"],[0,"== \"unde"]],"start1":2678,"start2":2678,"length1":17,"length2":17},{"diffs":[[0,"se\r\n        if ("],[-1,"!"],[1,"typeof "],[0,"functionToCall) "]],"start1":3281,"start2":3281,"length1":33,"length2":39},{"diffs":[[0,"f functionToCall"],[1," !== \"undefined\""],[0,") {\r\n           "]],"start1":3302,"start2":3302,"length1":32,"length2":48},{"diffs":[[0,"    if ("],[-1,"!"],[1,"typeof "],[0,"function"]],"start1":3918,"start2":3918,"length1":17,"length2":23},{"diffs":[[0,"f functionToCall"],[1," !== \"undefined\""],[0,") {\r\n           "]],"start1":3931,"start2":3931,"length1":32,"length2":48}]],"length":4381,"saved":false}
{"ts":1361844682897,"patch":[[{"diffs":[[0,"    if ("],[1,"typeof "],[0,"data !=="]],"start1":1650,"start2":1650,"length1":16,"length2":23},{"diffs":[[0,"ata !== "],[-1,"null"],[1,"\"undefined\""],[0,") {\r\n   "]],"start1":1666,"start2":1666,"length1":20,"length2":27}]],"length":4395,"saved":false}
{"ts":1361846069399,"patch":[[{"diffs":[[0," \r\n    /**\r\n"],[1,"     * Tell if a WebSocket connection is activated.\r\n     * \r\n     * @param\r\n     * @return True of False depending on the state of the connection.\r\n     */\r\n    namespace.WebSocketConnection.prototype.isOpen = function() {\r\n        if (!this.connection) {\r\n            return false;\r\n        } else if (this.connection.readyState === 0) {\r\n            return false;\r\n        }\r\n        \r\n        return true;\r\n    };\r\n    \r\n    /**\r\n"],[0,"     * Open "]],"start1":852,"start2":852,"length1":24,"length2":458}]],"length":4829,"saved":false}
{"ts":1361846167289,"patch":[[{"diffs":[[0,"te === 0"],[1," || this.connection.readyState === 3"],[0,") {\r\n   "]],"start1":1192,"start2":1192,"length1":16,"length2":52}]],"length":4865,"saved":false}
{"contributors":[],"silentsave":false,"ts":1361900896822,"patch":[[{"diffs":[[0,"tion(url"],[1,", protocole"],[0,") {\r\n   "]],"start1":1513,"start2":1513,"length1":16,"length2":27},{"diffs":[[0,"cket(url"],[1,", protocole"],[0,");\r\n    "]],"start1":1573,"start2":1573,"length1":16,"length2":27}]],"length":4887,"saved":false}
